<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Chervilla 2026</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
    body {
        margin: 0;
        padding: 0;
        background: #4c936f;
        font-family: system-ui, sans-serif;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        color: #0F3A3A;
        text-align: center;
        position: relative;
        overflow-x: hidden;
    }

    img.logo {
        width: clamp(220px, 60vw, 480px);
        max-height: 50vh;
        object-fit: contain;
        height: auto;
        margin-bottom: 8px;
    }

    #dates {
        font-size: 1.3rem;
        font-weight: 600;
        margin-bottom: 24px;
    }

    #countdown {
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 32px;
    }

    .buttons {
        display: flex;
        gap: 20px;
        justify-content: center;
        flex-wrap: wrap;
        position: relative;
    }

    .buttons a {
        text-decoration: none;
        padding: 14px 24px;
        background: #F0C04A;
        color: #0F3A3A;
        border-radius: 6px;
        font-size: 1.1rem;
        font-weight: 600;
        border: 2px solid #0F3A3A;
        transition: background 0.2s;
        min-width: 160px;
        text-align: center;
    }

    .buttons a:hover {
        background: #ffd978;
    }

    /* Runaway mode */
    #rsvpButton.runaway {
        position: fixed;
        z-index: 10;
    }

    /* Stack buttons on mobile */
    @media (max-width: 600px) {
        .buttons {
            flex-direction: column;
        }
    }
</style>
</head>
<body>

    <img src="logo.png" alt="Chervilla 2026 Logo" class="logo">

    <div id="dates">11–17 July</div>

    <div id="countdown">RSVP opens in …</div>

    <div class="buttons">
        <a href="info.html">Information</a>
        <a id="rsvpButton" href="rsvp.html">RSVP</a>
    </div>

<script>
    /* ------------------------------
       COUNTDOWN TIMER
    ------------------------------ */

    const targetTime = new Date('2025-12-14T20:00:00+00:00').getTime();
    const countdownEl = document.getElementById('countdown');

    function updateCountdown() {
        const now = new Date().getTime();
        const distance = targetTime - now;

        if (distance <= 0) {
            countdownEl.textContent = 'RSVP is open!';
            clearInterval(timer);
            return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((distance / (1000 * 60)) % 60);
        const seconds = Math.floor((distance / 1000) % 60);

        const pad = n => String(n).padStart(2, '0');

        countdownEl.textContent =
            `RSVP opens in ${days}d ${pad(hours)}h ${pad(minutes)}m ${pad(seconds)}s`;
    }

    const timer = setInterval(updateCountdown, 1000);
    updateCountdown();



    /* ------------------------------
       RUNAWAY BUTTON + 20 MESSAGES
       - message EVERY click
       - always revert to "RSVP"
       - safe under rapid clicks
    ------------------------------ */

    const rsvp = document.getElementById('rsvpButton');

    const messages = [
        "You can't catch me!",
        "Nice try!",
        "Not today!",
        "Too slow!",
        "Almost had me!",
        "I’m quicker than I look!",
        "Try again…",
        "Nope!",
        "Denied!",
        "Keep chasing!",
        "You miss every shot you take!",
        "I refuse.",
        "Not happening.",
        "Why are you like this?",
        "You're persistent!",
        "I'm running away now!",
        "A for effort!",
        "Maybe someday!",
        "So close… but no.",
        "You'll have to be faster!"
    ];

    let revertTimeoutId = null;

    rsvp.addEventListener('click', function (e) {
        e.preventDefault(); // Disable link

        // Cheeky message EVERY click
        const msg = messages[Math.floor(Math.random() * messages.length)];
        rsvp.textContent = msg;

        // Clear any previous timer so we don't revert to old messages
        if (revertTimeoutId !== null) {
            clearTimeout(revertTimeoutId);
        }

        revertTimeoutId = setTimeout(() => {
            rsvp.textContent = "RSVP";
            revertTimeoutId = null;
        }, 1200);

        // Enable runaway behaviour
        if (!rsvp.classList.contains('runaway')) {
            rsvp.classList.add('runaway');
        }

        // Teleport to random position
        const padding = 20;
        const maxX = window.innerWidth - rsvp.offsetWidth - padding;
        const maxY = window.innerHeight - rsvp.offsetHeight - padding;

        const x = Math.random() * maxX + padding;
        const y = Math.random() * maxY + padding;

        rsvp.style.left = `${x}px`;
        rsvp.style.top = `${y}px`;
    });
</script>

</body>
</html>
